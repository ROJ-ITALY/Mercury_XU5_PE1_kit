/include/ "system-conf.dtsi"
/include/ "xen.dtsi"
/ {
	model = "Enclustra ME-XU5-2EG-1I-D11E SOM";

    reserved-memory {
        #address-cells = <2>;
        #size-cells = <2>;
        ranges;
        rproc_0_reserved: rproc@3e000000 {
            no-map;
            reg = <0x0 0x3e000000 0x0 0x2000000>;
        };
    };

	amba {

		/* Define shared memory 16MB for Libmetal AMP demo*/
		shm0: shm@0 {
			compatible = "shm_uio";
			reg = <0x0 0x3ed80000 0x0 0x1000000>;
			xen,passthrough;
		};

		/* Define IPI Ch7 for Libmetal AMP demo*/
		ipi0: ipi@0 {
			compatible = "ipi_uio";
			reg = <0x0 0xff340000 0x0 0x1000>;
			interrupt-parent = <&gic>;
			interrupts = <0 29 4>;
			xen,passthrough;
		};
	};
   
	zynqmp-rpu {
        compatible = "xlnx,zynqmp-r5-remoteproc-1.0";
        #address-cells = <2>;
        #size-cells = <2>;
        ranges;
        core_conf = "split";
        reg = <0x0 0xFF9A0000 0x0 0x10000>;
        r5_0: r5@0 {
            #address-cells = <2>;
            #size-cells = <2>;
            ranges;
            memory-region = <&rproc_0_reserved>;
            pnode-id = <0x7>;
            tcm_0_a: tcm_0@0 {
                reg = <0x0 0xFFE00000 0x0 0x10000>;
                pnode-id = <0xf>;
            };
            tcm_0_b: tcm_0@1 {
                reg = <0x0 0xFFE20000 0x0 0x10000>;
                pnode-id = <0x10>;
            };
        };
    };
};

&ttc0 {
	status = "okay";
	xen,passthrough;
};

&ttc1 {
	status = "okay";
	xen,passthrough;
};

&uart0 {
	xen,passthrough;
};

#include "zynqmp_enclustra_common.dtsi"
#include "zynqmp_enclustra_mercury_pe1.dtsi"
#include "zynqmp_enclustra_mercury_xu5.dtsi"
